import{n as g,j as s,L as m,u as v,r as d,N as w,f as h,q as u,w as p,c as x,d as j}from"./index-D1459Nzo.js";function U(){const t=g(),n=i=>t.pathname.startsWith(i);return s.jsxs("div",{className:"row",style:{gap:8,marginBottom:16},children:[s.jsx(m,{className:`btn ${n("/dashboard/connections")?"primary":"ghost"}`,to:"/dashboard/connections",children:"Matches"}),s.jsx(m,{className:`btn ${n("/dashboard/female/edit-profile")?"primary":"ghost"}`,to:"/dashboard/female/edit-profile",children:"Edit Profile"})]})}function L(){const{user:t}=v(),[n,i]=d.useState([]),[f,y]=d.useState({});return d.useEffect(()=>{if(!t)return;(async()=>{const r=(await h(u(x(j,"matches"),p("participants","array-contains",t.uid)))).docs.map(a=>({id:a.id,...a.data()}));i(r);const N=Array.from(new Set(r.map(a=>a.boyUid===t.uid?a.girlUid:a.boyUid))),b=await Promise.all(N.map(async a=>(await h(u(x(j,"users"),p("uid","==",a)))).docs[0])),l={};for(const a of b)if(a){const o=a.data();l[o.uid]=o}y(l)})()},[t]),s.jsxs(s.Fragment,{children:[s.jsx(w,{}),s.jsxs("div",{className:"container",children:[s.jsx(U,{}),s.jsx("h2",{children:"My Connections"}),s.jsx("div",{className:"grid cols-3",children:n.map(c=>{const e=f[c.boyUid];return e?s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-media",children:e.photoUrl?s.jsx("img",{src:e.photoUrl}):s.jsx("div",{className:"media-placeholder"})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"row",children:[s.jsx("strong",{children:e.name}),s.jsxs("span",{children:["@",e.instagramId]})]}),s.jsx("p",{className:"bio",children:e.bio}),s.jsx("div",{className:"tags",children:(e.interests??[]).map(r=>s.jsx("span",{className:"tag",children:r},r))})]})]},c.id):null})}),n.length===0&&s.jsx("div",{className:"empty",children:"No connections yet. Likes you send will appear here if he selects you back."})]})]})}export{L as default};
