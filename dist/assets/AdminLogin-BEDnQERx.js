import{a as j,r as t,j as s,M as f,O as v,H as y,m as w,d as b,P as N}from"./index-D1459Nzo.js";function L(){const m=j(),[n,x]=t.useState(""),[i,g]=t.useState(""),[r,l]=t.useState(!1),[d,o]=t.useState(null);async function h(e){var c;e.preventDefault(),o(null),l(!0);try{const a=f(),p=(await v(a,n.trim(),i)).user,u=await y(w(b,"users",p.uid));if(!(u.exists()&&((c=u.data())==null?void 0:c.isAdmin)===!0))throw await N(a),new Error("Not an admin account");m("/admin/rounds")}catch(a){o((a==null?void 0:a.message)||"Login failed")}finally{l(!1)}}return s.jsx("div",{className:"container",children:s.jsxs("div",{className:"card",style:{maxWidth:480,margin:"40px auto",padding:24},children:[s.jsx("h2",{style:{marginTop:0},children:"Admin Login"}),s.jsxs("form",{className:"stack",onSubmit:h,children:[s.jsxs("div",{children:[s.jsx("label",{children:"Email"}),s.jsx("input",{className:"input",type:"email",value:n,onChange:e=>x(e.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{children:"Password"}),s.jsx("input",{className:"input",type:"password",value:i,onChange:e=>g(e.target.value),required:!0})]}),d?s.jsx("div",{style:{color:"#ef4444"},children:d}):null,s.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:s.jsx("button",{className:"btn btn-primary",type:"submit",disabled:r,children:r?"Signing inâ€¦":"Sign in"})})]})]})})}export{L as default};
